!function(){"use strict";function o(o,e){for(var t=0;t<e.length;t++){var n=e[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}new(function(){function e(o){!function(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this.container=o}var t,n,i;return t=e,i=[{key:"markup",get:function(){return'\n      <button class="btn">Click to toggle popover</button>\n      <div class="popover-container popover-container_hidden">\n        <div class="popover__arrow"></div>\n        <h1 class="popover__title">Popover title</h1>\n        <div class="popover__text">And here\'s some amazing content. It\'s very engaging. Right?</div>\n      </div>\n    '}}],(n=[{key:"bindToDOM",value:function(){this.container.innerHTML=this.constructor.markup,this.btn=document.querySelector(".btn"),this.popover=document.querySelector(".popover-container"),this.setClickListener(),this.setBlurListener()}},{key:"showPopover",value:function(){this.popover.classList.contains("popover-container_hidden")?(this.popover.classList.remove("popover-container_hidden"),this.calcPopoverCoords()):this.popover.classList.add("popover-container_hidden")}},{key:"setCoords",value:function(){this.coords||(this.coords=this.btn.getBoundingClientRect())}},{key:"calcPopoverCoords",value:function(){this.setCoords(),this.popover.style.left="".concat(window.scrollX+this.coords.left+this.btn.offsetWidth/2-this.popover.offsetWidth/2,"px"),this.popover.style.top="".concat(window.scrollY+this.coords.top-this.popover.offsetHeight-12,"px")}},{key:"setClickListener",value:function(){var o=this;this.btn.addEventListener("click",(function(){o.showPopover()}))}},{key:"setBlurListener",value:function(){var o=this;this.btn.addEventListener("blur",(function(){o.popover.classList.contains("popover-container_hidden")||o.popover.classList.add("popover-container_hidden")}))}}])&&o(t.prototype,n),i&&o(t,i),e}())(document.querySelector(".btn-container")).bindToDOM()}();